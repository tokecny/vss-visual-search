{"ast":null,"code":"import _slicedToArray from\"/Users/pavlov/Documents/GitHub/vss-visual-search/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useNavigate}from'react-router-dom';import{useState}from'react';import{saveDataToLocalStorage}from'../../uitls/offline';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ParticipantForm(props){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),promptUserId=_useState2[0],setPromptUserId=_useState2[1];// ใช้เป็น string\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sm:mx-auto sm:w-full sm:max-w-sm\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"mt-10 text-center text-xl font-bold leading-9 tracking-tight text-gray-900\",children:\"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"userId\",className:\"block text-sm font-medium leading-6 text-gray-900 text-center\",children:\"\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E40\\u0E25\\u0E02\\u0E1C\\u0E39\\u0E49\\u0E40\\u0E02\\u0E49\\u0E32\\u0E23\\u0E48\\u0E27\\u0E21\\u0E07\\u0E32\\u0E19\\u0E27\\u0E34\\u0E08\\u0E31\\u0E22 (Subject ID)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"input\",{onKeyDown:function onKeyDown(e){// ป้องกันการพิมพ์ตัวอักษร\nif(!/[0-9]/.test(e.key)&&e.key!=='Backspace'&&e.key!=='Tab'){e.preventDefault();}},onChange:function onChange(e){var value=e.target.value;// ตรวจสอบว่าเป็นตัวเลขและไม่เกิน 3 หลัก\nif(/^\\d*$/.test(value)&&value.length<=3){setPromptUserId(value);// เก็บค่าเป็น string\n}},id:\"userId\",name:\"userId\",type:\"tel\",autoComplete:\"userId\",required:true,className:\"block w-full px-4 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-pink-400 sm:text-sm sm:leading-6 text-center\",placeholder:\": \\u0E22\\u0E01\\u0E15\\u0E31\\u0E27\\u0E2D\\u0E22\\u0E48\\u0E32\\u0E07\\u0E40\\u0E0A\\u0E48\\u0E19 001\",maxLength:3// จำกัดให้กรอกได้สูงสุด 3 หลัก\n})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){e.preventDefault();// ป้องกันการรีเฟรชหน้า\nvar numValue=Number(promptUserId);// แปลง string เป็น number\nif(promptUserId===\"\"){alert(\"กรุณากรอกข้อมูลให้ครบถ้วนและถูกต้อง\");setPromptUserId(\"\");// เคลียร์ input\n}else if(promptUserId.length<3){alert(\"กรุณากรอกหมายเลขผู้เข้าร่วมงานวิจัยให้ครบ 3 หลัก\");setPromptUserId(\"\");// เคลียร์ input\n}else{// ตรวจสอบว่าหมายเลขอยู่ในช่วงที่อนุญาต (001 ถึง 016) หรือหมายเลข 428\nif((numValue<1||numValue>16)&&numValue!==428){alert(\"กรุณากรอกหมายเลขในช่วง 001 ถึง 016\");setPromptUserId(\"\");// เคลียร์ input\n}else{props.setUserId(numValue);// ตั้งค่าผู้ใช้\nnavigate(\"/landing\");// นำทางไปยังหน้า landing\nsaveDataToLocalStorage('userId',numValue.toString().padStart(3,'0'));// บันทึกข้อมูลใน Local Storage\n}}},className:\"flex w-full justify-center rounded-md bg-pink-400 px-3 py-1.5 text-sm font-semibold leading-6 text-stone-100 shadow-sm hover:bg-pink-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-400\",children:\"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E48\\u0E01\\u0E32\\u0E23\\u0E17\\u0E14\\u0E2A\\u0E2D\\u0E1A\"})})]})})]})});}","map":{"version":3,"names":["useNavigate","useState","saveDataToLocalStorage","jsx","_jsx","jsxs","_jsxs","ParticipantForm","props","navigate","_useState","_useState2","_slicedToArray","promptUserId","setPromptUserId","className","children","htmlFor","onKeyDown","e","test","key","preventDefault","onChange","value","target","length","id","name","type","autoComplete","required","placeholder","maxLength","onClick","numValue","Number","alert","setUserId","toString","padStart"],"sources":["/Users/pavlov/Documents/GitHub/vss-visual-search/src/pages/participantForm/participantForm.tsx"],"sourcesContent":["import { useNavigate } from 'react-router-dom';\nimport { useState } from 'react';\nimport { saveDataToLocalStorage } from '../../uitls/offline';\n\nexport default function ParticipantForm(props: {\n  setUserId: (id: number) => void;\n}) {\n  const navigate = useNavigate();\n  const [promptUserId, setPromptUserId] = useState<string>(\"\"); // ใช้เป็น string\n\n  return (\n    <div className=\"h-screen\">\n        <div className=\"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\">\n            <div className=\"sm:mx-auto sm:w-full sm:max-w-sm\">\n                <h2 className=\"mt-10 text-center text-xl font-bold leading-9 tracking-tight text-gray-900\">\n                    กรุณากรอกข้อมูล\n                </h2>\n            </div>\n\n            <div className=\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\">\n                <form className=\"space-y-6\">\n                    <div>\n                        <label htmlFor=\"userId\" className=\"block text-sm font-medium leading-6 text-gray-900 text-center\">\n                            หมายเลขผู้เข้าร่วมงานวิจัย (Subject ID)\n                        </label>\n                        <div className=\"mt-2\">\n                            <input\n                                onKeyDown={(e) => {\n                                    // ป้องกันการพิมพ์ตัวอักษร\n                                    if (!/[0-9]/.test(e.key) && e.key !== 'Backspace' && e.key !== 'Tab') {\n                                        e.preventDefault();\n                                    }\n                                }}\n                                onChange={(e) => {\n                                    const value = e.target.value;\n                                    // ตรวจสอบว่าเป็นตัวเลขและไม่เกิน 3 หลัก\n                                    if (/^\\d*$/.test(value) && value.length <= 3) {\n                                        setPromptUserId(value); // เก็บค่าเป็น string\n                                    }\n                                }}\n                                id=\"userId\"\n                                name=\"userId\"\n                                type=\"tel\"\n                                autoComplete=\"userId\"\n                                required\n                                className=\"block w-full px-4 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-pink-400 sm:text-sm sm:leading-6 text-center\"\n                                placeholder=\": ยกตัวอย่างเช่น 001\"\n                                maxLength={3} // จำกัดให้กรอกได้สูงสุด 3 หลัก\n                            />\n                        </div>\n                    </div>\n\n                    <div>\n                        <button\n                            onClick={(e) => {\n                                e.preventDefault(); // ป้องกันการรีเฟรชหน้า\n                                const numValue = Number(promptUserId); // แปลง string เป็น number\n                                if (promptUserId === \"\") {\n                                    alert(\"กรุณากรอกข้อมูลให้ครบถ้วนและถูกต้อง\");\n                                    setPromptUserId(\"\"); // เคลียร์ input\n                                } else if (promptUserId.length < 3) {\n                                    alert(\"กรุณากรอกหมายเลขผู้เข้าร่วมงานวิจัยให้ครบ 3 หลัก\");\n                                    setPromptUserId(\"\"); // เคลียร์ input\n                                } else {\n                                    // ตรวจสอบว่าหมายเลขอยู่ในช่วงที่อนุญาต (001 ถึง 016) หรือหมายเลข 428\n                                    if ((numValue < 1 || numValue > 16) && numValue !== 428) {\n                                        alert(\"กรุณากรอกหมายเลขในช่วง 001 ถึง 016\");\n                                        setPromptUserId(\"\"); // เคลียร์ input\n                                    } else {\n                                        props.setUserId(numValue); // ตั้งค่าผู้ใช้\n                                        navigate(\"/landing\"); // นำทางไปยังหน้า landing\n                                        saveDataToLocalStorage('userId', numValue.toString().padStart(3, '0')); // บันทึกข้อมูลใน Local Storage\n                                    }\n                                }\n                            }}\n                            className=\"flex w-full justify-center rounded-md bg-pink-400 px-3 py-1.5 text-sm font-semibold leading-6 text-stone-100 shadow-sm hover:bg-pink-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-400\">\n                            เข้าสู่การทดสอบ\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}