{"ast":null,"code":"import _slicedToArray from\"/Users/pavlov/Documents/GitHub/vss-visual-search/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{HashRouter as Router,Route,Routes}from'react-router-dom';import LandingPage from'./pages/landingPage/LandingPage';import FITC2 from'./pages/game/FITC2';import LoadingSpinner from'./components/loadingSpinner/LoadingSpinner';import ParticipantForm from'./pages/participantForm/participantForm';import{getDataFromLocalStorage}from'./uitls/offline';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),userId=_useState2[0],setUserId=_useState2[1];useEffect(function(){// ฟังก์ชันสำหรับป้องกันการซูมในโทรศัพท์\nvar handleTouchMove=function handleTouchMove(e){if(e.touches.length>1){e.preventDefault();}};// ฟังก์ชันสำหรับป้องกันการซูมในคอม\nvar handleZoom=function handleZoom(e){if(e.ctrlKey||e.metaKey){e.preventDefault();}};document.addEventListener(\"touchmove\",handleTouchMove,{passive:false});window.addEventListener(\"wheel\",handleZoom,{passive:false});window.addEventListener(\"keydown\",handleZoom);// ฟังก์ชันจัดการขนาดเอกสาร\ndocumentHeightWidth();window.addEventListener('resize',documentHeightWidth);window.addEventListener('orientationchange',documentHeightWidth);var id=getDataFromLocalStorage('userId');if(id!==null){setUserId(id);}else{// if (window.location.href === \"https://tokecny.github.io/vss-visual-search/\"){\n// } else {\n//   window.location.replace(\"https://tokecny.github.io/vss-visual-search/\");\n// }\n}// คืนค่าเพื่อทำความสะอาด\nreturn function(){document.removeEventListener(\"touchmove\",handleTouchMove);window.removeEventListener(\"wheel\",handleZoom);window.removeEventListener(\"keydown\",handleZoom);};},[]);function documentHeightWidth(){var calWidth=''+document.documentElement.clientWidth;var calHeight=''+document.documentElement.clientHeight;var calSum=+calWidth+ +calHeight;var vh=window.innerHeight*0.01;document.documentElement.style.setProperty('--this-width',calWidth+'px');document.documentElement.style.setProperty('--this-height',calHeight+'px');document.documentElement.style.setProperty('--this-sum',calSum+'px');document.documentElement.style.setProperty('--vh',vh+'px');}return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ParticipantForm,{setUserId:setUserId})}),/*#__PURE__*/_jsx(Route,{path:\"/landing\",element:/*#__PURE__*/_jsx(LandingPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/face-in-the-crowd-2.0\",element:/*#__PURE__*/_jsx(FITC2,{userId:userId})})]}),/*#__PURE__*/_jsx(LoadingSpinner,{})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","HashRouter","Router","Route","Routes","LandingPage","FITC2","LoadingSpinner","ParticipantForm","getDataFromLocalStorage","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","userId","setUserId","handleTouchMove","e","touches","length","preventDefault","handleZoom","ctrlKey","metaKey","document","addEventListener","passive","window","documentHeightWidth","id","removeEventListener","calWidth","documentElement","clientWidth","calHeight","clientHeight","calSum","vh","innerHeight","style","setProperty","children","path","element"],"sources":["/Users/pavlov/Documents/GitHub/vss-visual-search/src/App.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { HashRouter as Router, Route, Routes } from 'react-router-dom';\nimport LandingPage from './pages/landingPage/LandingPage';\nimport CJSLanding from './pages/gameLanding/cjsLanding/CJSLanding';\nimport CJSInstruction from './pages/gameInstruction/cjsInstruction/CJSInstruction';\nimport CJSGame from './pages/game/cjsGame/CJSGame';\nimport FITC2 from './pages/game/FITC2';\nimport LoadingSpinner from './components/loadingSpinner/LoadingSpinner';\nimport ParticipantForm from './pages/participantForm/participantForm';\nimport { getDataFromLocalStorage } from './uitls/offline';\n\nfunction App() {\n  const [userId, setUserId] = useState<number | null>(null);\n\n  useEffect(() => {\n    // ฟังก์ชันสำหรับป้องกันการซูมในโทรศัพท์\n    const handleTouchMove = (e) => {\n      if (e.touches.length > 1) {\n        e.preventDefault();\n      }\n    };\n\n    // ฟังก์ชันสำหรับป้องกันการซูมในคอม\n    const handleZoom = (e) => {\n      if (e.ctrlKey || e.metaKey) {\n        e.preventDefault();\n      }\n    };  \n\n    document.addEventListener(\"touchmove\", handleTouchMove, { passive: false });\n    window.addEventListener(\"wheel\", handleZoom, { passive: false });\n    window.addEventListener(\"keydown\", handleZoom);\n\n    // ฟังก์ชันจัดการขนาดเอกสาร\n    documentHeightWidth();\n    window.addEventListener('resize', documentHeightWidth);\n    window.addEventListener('orientationchange', documentHeightWidth);\n\n    let id = getDataFromLocalStorage('userId');\n    if (id !== null) {\n      setUserId(id);\n    } else {\n      // if (window.location.href === \"https://tokecny.github.io/vss-visual-search/\"){\n      // } else {\n      //   window.location.replace(\"https://tokecny.github.io/vss-visual-search/\");\n      // }\n    }\n\n\n    // คืนค่าเพื่อทำความสะอาด\n    return () => {\n      document.removeEventListener(\"touchmove\", handleTouchMove);\n      window.removeEventListener(\"wheel\", handleZoom);\n      window.removeEventListener(\"keydown\", handleZoom);\n    };\n  }, []);\n\n  function documentHeightWidth() {\n    let calWidth = '' + document.documentElement.clientWidth;\n    let calHeight = '' + document.documentElement.clientHeight;\n    let calSum = (+calWidth) + (+calHeight);\n    let vh = window.innerHeight * 0.01;\n\n    document.documentElement.style.setProperty('--this-width', calWidth + 'px');\n    document.documentElement.style.setProperty('--this-height', calHeight + 'px');\n    document.documentElement.style.setProperty('--this-sum', calSum + 'px');\n    document.documentElement.style.setProperty('--vh', vh + 'px');\n  }\n\n  return (\n    <Router>\n      <Routes>\n        <Route path=\"/\" element={<ParticipantForm setUserId={setUserId} />} />\n        <Route path=\"/landing\" element={<LandingPage />} />\n        {/* <Route path=\"/face-in-the-crowd-A\" element={<CJSGame userId={userId}/>} />\n        <Route path=\"/face-in-the-crowd-B\" element={<CJSGame userId={userId}/>} /> */}\n        <Route path=\"/face-in-the-crowd-2.0\" element={<FITC2 userId={userId}/>} />\n        {/* <Route path=\"/face-in-the-crowd/instruction\" element={<CJSInstruction />} /> */}\n        {/* <Route path=\"/face-in-the-crowd/trial\" element={<CJSGame userId={userId} />} /> */}\n      </Routes>\n      <LoadingSpinner />\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}